---
layout: default
title: Statistiche
pagination: 
  enabled: false
---

<div class="inline-flex items-center justify-center w-full">
  <hr class="w-full h-px mx-4 lg:mx-32 my-2 lg:my-8 bg-gray-200 border-0">
  <span class="absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-[#14171C] left-1/2 text-white">{{site.posts | size }} film</span>
</div>

<div class="w-full px-4 lg:px-32">
    <div id="column-chart" class="lg:px-6"></div>
</div>

<div class="inline-flex items-center justify-center w-full mt-8 lg:mt-16">
  <hr class="w-full h-px mx-4 lg:mx-32 my-2 lg:my-8 bg-gray-200 border-0">
  <span class="absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-[#14171C] left-1/2 text-white">Liste</span>
</div>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 lg:mx-24">
  <div class="lg:py-2" id="radial-chart-imdb"></div>
  <div class="lg:py-2" id="radial-chart-afi"></div>
  <div class="lg:py-2" id="radial-chart-sas-100"></div>
  <div class="lg:py-2" id="radial-chart-afi-all-time"></div>
  <div class="lg:py-2" id="radial-chart-oscar-bm"></div>
  <div class="lg:py-2" id="radial-chart-sas-250"></div>
  <div class="lg:py-2" id="radial-chart-cannes"></div>
</div>
<!-- <div class="inline-flex items-center justify-center w-full mt-2 lg:mt-2">
  <hr class="w-full h-px mx-4 lg:mx-32 my-2 lg:my-8 bg-gray-200 border-0">
  <span class="absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-[#14171C] left-1/2 text-white">Paesi</span>
</div>
<div class="grid grid-cols-1 mx-4 lg:mx-32 mb-16 overflow-hidden" id="regions_div"></div>
</div> -->


{% assign imdb = 0 %}
{% assign oscar_bm = 0 %}
{% assign oscar_bm_tot = site.data.oscar_best_movies.size %}
{% assign cannes = 0 %}
{% assign sas_250 = 0 %}
{% assign sas_250_tot = site.data.sas250.size %}
{% assign sas_100 = 0 %}
{% assign sas_100_tot = site.data.sas100.size %}
{% assign afi = 0 %}
{% assign afi_tot = site.data.afi_all_time.size %}
{% assign afi_at = 0 %}
{% assign afi_at_tot = site.data.afi_all_time.size %}
{% for post in site.posts %}
    {% assign v = site.data.imdb250 | where: 'id', post.imdb_id %}
    {% if v.size > 0  %}
    {% assign imdb = imdb | plus: 1 %}
    {% endif %}
    {% assign v = site.data.oscar_best_movies | where: 'id', post.imdb_id %}
    {% if v.size > 0  %}
    {% assign oscar_bm = oscar_bm | plus: 1 %}
    {% endif %}
    {% assign v = site.data.sas250 | where: 'id', post.imdb_id %}
    {% if v.size > 0  %}
    {% assign sas_250 = sas_250 | plus: 1 %}
    {% endif %}
    {% assign v = site.data.sas100 | where: 'id', post.imdb_id %}
    {% if v.size > 0  %}
    {% assign sas_100 = sas_100 | plus: 1 %}
    {% endif %}
    {% assign v = site.data.afi | where: 'id', post.imdb_id %}
    {% if v.size > 0  %}
    {% assign afi = afi | plus: 1 %}
    {% endif %}
    {% assign v = site.data.afi_all_time | where: 'id', post.imdb_id %}
    {% if v.size > 0  %}
    {% assign afi_at = afi_at | plus: 1 %}
    {% endif %}
    {% if post.cannes %}
    {% assign cannes = cannes | plus: 1 %}
   {% endif %}
{% endfor %}
<script>
  let imdb = "{{imdb}}"
  let afi = "{{afi}}"
  let afi_at = "{{afi_at}}"
  let afi_at_tot = "{{afi_at_tot}}"
  let oscar_bm = "{{oscar_bm}}"
  let oscar_bm_tot = "{{oscar_bm_tot}}"
  let cannes = "{{cannes}}"
  let sas_250 = "{{sas_250}}"
  let sas_250_tot = "{{sas_250_tot}}"
  let sas_100 = "{{sas_100}}"
  let sas_100_tot = "{{sas_100_tot}}"
  window.addEventListener("load", function() {
    const getChartOptions = (label, val, max) => {
      let offsetY = label.length == 1 ? -10 : -25
      console.log(offsetY)
        return {
          series:[parseFloat((100* (val / max)).toFixed(1))],
          colors: ['#FCD34D'],
          chart: {
          height: 300,
          type: 'radialBar',
        },
        plotOptions: {
          radialBar: {
            hollow: {
              size: '70%',
            },
            dataLabels:{
              name: {
                offsetY: offsetY
              },
              value: {
                offsetY: 25,
                show: true,
                fontSize: '24px',
                color: 'white',
              }
            },
          },
        },
        labels: [label]
      }
    }
      
      if (document.getElementById("radial-chart-imdb") && typeof ApexCharts !== 'undefined') {
        var chart = new ApexCharts(document.querySelector("#radial-chart-imdb"), getChartOptions(['IMDb Top 250', '(2023)'], imdb, 250));
        chart.render();
        chart = new ApexCharts(document.querySelector("#radial-chart-oscar-bm"), getChartOptions(['Premio Oscar', 'Miglior film'], oscar_bm, oscar_bm_tot));
        chart.render();
        chart = new ApexCharts(document.querySelector("#radial-chart-cannes"), getChartOptions(["Palma d'oro", "Cannes"], cannes, 96));
        chart.render();
        chart = new ApexCharts(document.querySelector("#radial-chart-sas-250"), getChartOptions(["Sight & Sound", "Critics' Top 250"], sas_250, sas_250_tot));
        chart.render();
        chart = new ApexCharts(document.querySelector("#radial-chart-sas-100"), getChartOptions(["Sight & Sound", "Directors' Top 100"], sas_100, sas_100_tot));
        chart.render();
        chart = new ApexCharts(document.querySelector("#radial-chart-afi"), getChartOptions(["AFI Top 100"], afi, 100));
        chart.render();
        chart = new ApexCharts(document.querySelector("#radial-chart-afi-all-time"), getChartOptions(["AFI Top 100", "(All-time)"], afi_at, afi_at_tot));
        chart.render();
      }
  });
</script>



  <script>
    // ApexCharts options and config
    window.addEventListener("load", function() {
      const options = {
            series: [
              {
                name: "Movies",
                color: "#FCD34D",
                data: [
                  { x: "1920", y: 0 },
                  { x: "1921", y: 0 },
                  { x: "1922", y: 0 },
                  { x: "1923", y: 0 },
                  { x: "1924", y: 0 },
                  { x: "1925", y: 1 },
                  { x: "1926", y: 1 },
                  { x: "1927", y: 2 },
                  { x: "1928", y: 1 },
                  { x: "1929", y: 1 },
                  { x: "1930", y: 0 },
                  { x: "1931", y: 1 },
                  { x: "1932", y: 0 },
                  { x: "1933", y: 0 },
                  { x: "1934", y: 0 },
                  { x: "1935", y: 0 },
                  { x: "1936", y: 0 },
                  { x: "1937", y: 0 },
                  { x: "1938", y: 0 },
                  { x: "1939", y: 1 },
                  { x: "1940", y: 0 },
                  { x: "1941", y: 1 },
                  { x: "1942", y: 1 },
                  { x: "1943", y: 1 },
                  { x: "1944", y: 0 },
                  { x: "1945", y: 0 },
                  { x: "1946", y: 1 },
                  { x: "1947", y: 1 },
                  { x: "1948", y: 1 },
                  { x: "1949", y: 0 },
                  { x: "1950", y: 2 },
                  { x: "1951", y: 0 },
                  { x: "1952", y: 0 },
                  { x: "1953", y: 2 },
                  { x: "1954", y: 2 },
                  { x: "1955", y: 1 },
                  { x: "1956", y: 2 },
                  { x: "1957", y: 4 },
                  { x: "1958", y: 7 },
                  { x: "1959", y: 5 },
                  { x: "1960", y: 5 },
                  { x: "1961", y: 5 },
                  { x: "1962", y: 2 },
                  { x: "1963", y: 2 },
                  { x: "1964", y: 5 },
                  { x: "1965", y: 3 },
                  { x: "1966", y: 11 },
                  { x: "1967", y: 4 },
                  { x: "1968", y: 3 },
                  { x: "1969", y: 4 },
                  { x: "1970", y: 7 },
                  { x: "1971", y: 7 },
                  { x: "1972", y: 9 },
                  { x: "1973", y: 7 },
                  { x: "1974", y: 5 },
                  { x: "1975", y: 4 },
                  { x: "1976", y: 5 },
                  { x: "1977", y: 4 },
                  { x: "1978", y: 3 },
                  { x: "1979", y: 3 },
                  { x: "1980", y: 3 },
                  { x: "1981", y: 0 },
                  { x: "1982", y: 1 },
                  { x: "1983", y: 2 },
                  { x: "1984", y: 7 },
                  { x: "1985", y: 4 },
                  { x: "1986", y: 2 },
                  { x: "1987", y: 7 },
                  { x: "1988", y: 0 },
                  { x: "1989", y: 6 },
                  { x: "1990", y: 6 },
                  { x: "1991", y: 3 },
                  { x: "1992", y: 3 },
                  { x: "1993", y: 5 },
                  { x: "1994", y: 9 },
                  { x: "1995", y: 6 },
                  { x: "1996", y: 3 },
                  { x: "1997", y: 5 },
                  { x: "1998", y: 6 },
                  { x: "1999", y: 6 },
                  { x: "2000", y: 5 },
                  { x: "2001", y: 6 },
                  { x: "2002", y: 4 },
                  { x: "2003", y: 4 },
                  { x: "2004", y: 6 },
                  { x: "2005", y: 1 },
                  { x: "2006", y: 2 },
                  { x: "2007", y: 4 },
                  { x: "2008", y: 1 },
                  { x: "2009", y: 2 },
                  { x: "2010", y: 2 },
                  { x: "2011", y: 1 },
                  { x: "2012", y: 1 },
                  { x: "2013", y: 3 },
                  { x: "2014", y: 4 },
                  { x: "2015", y: 4 },
                  { x: "2016", y: 3 },
                  { x: "2017", y: 2 },
                  { x: "2018", y: 1 },
                  { x: "2019", y: 3 },
                  { x: "2020", y: 3 },
                  { x: "2021", y: 3 },
                  { x: "2022", y: 0 },
                  { x: "2023", y: 2 },
                ],
              },
            ],
            chart: {
              type: "bar",
              height: "320px",
              fontFamily: "Inter, sans-serif",
              toolbar: {
                show: false,
              },
            },
            plotOptions: {
              bar: {
                horizontal: false,
                columnWidth: "70%",
                borderRadiusApplication: "end",
                borderRadius: 8,
              },
            },
            tooltip: {
              shared: true,
              intersect: false,
              style: {
                fontFamily: "Inter, sans-serif",
              },
            },
            states: {
              hover: {
                filter: {
                  type: "darken",
                  value: 1,
                },
              },
            },
            stroke: {
              show: true,
              width: 0,
              colors: ["transparent"],
            },
            grid: {
              show: false,
              strokeDashArray: 4,
              padding: {
                left: 20,
                right: 20,
                top: -14
              },
            },
            dataLabels: {
              enabled: false,
            },
            legend: {
              show: false,
            },
            xaxis: {
              tickAmount: 9,
              floating: false,
              labels: {
                show: true,
                style: {
                  fontFamily: "Inter, sans-serif",
                  cssClass: 'text-xs font-normal fill-gray-400'
                }
              },
              axisBorder: {
                show: false,
              },
              axisTicks: {
                show: false,
              },
            },
            yaxis: {
              show: false,
            },
            fill: {
              opacity: 1,
            },
          }
  
          if(document.getElementById("column-chart") && typeof ApexCharts !== 'undefined') {
            const chart = new ApexCharts(document.getElementById("column-chart"), options);
            chart.render();
          }
    });
  </script>
    <!-- <script type="text/javascript">
      google.charts.load('current', {
        'packages':['geochart']
      });


      google.charts.setOnLoadCallback(drawRegionsMap);

      function drawRegionsMap() {
        var data = google.visualization.arrayToDataTable([
          ['Paese', 'Film'],
          ['Germany', 200],
          ['United States', 300],
          ['Brazil', 400],
          ['Canada', 500],
          ['France', 600],
          ['RU', 700],
          ['Portugal', 0],
          
        ]);

        var options = {
          backgroundColor: '#14171C',
          colorAxis: {colors: ['white', '#fde68a', '#FCD34D', '#fbbf24', '#f59e0b']},
        };

        var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

        chart.draw(data, options);
      }
    </script> -->
